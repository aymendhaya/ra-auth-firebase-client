{"version":3,"file":"index.es.js","sources":["../src/index.js"],"sourcesContent":["\nexport const emailAndPasswordAuthProvider = (firebase) => {\n  return {\n    login: ({ username, password }) => {\n      return firebase.auth().signInWithEmailAndPassword(username, password)\n        .then(result => { localStorage.setItem('user', JSON.stringify(firebase.auth().currentUser)); return Promise.resolve() })\n        .catch(function(error) {\n          return Promise.reject(error.message) \n        })\n    },\n    logout: () => {\n      return firebase.default.auth().signOut().then(function() {\n        localStorage.removeItem('user')\n        return Promise.resolve()\n      }).catch(function(error) {\n        return Promise.reject(error.message) \n      })\n    },\n    checkAuth: () => {\n      if (localStorage.getItem('user')) { return Promise.resolve() }\n      return Promise.reject({ redirectTo: '/login' })\n    },\n    // : Promise.reject()\n    checkError: error => Promise.resolve(),\n    getPermissions: params => Promise.resolve()\n  }\n}\n"],"names":["emailAndPasswordAuthProvider","firebase","login","username","password","auth","signInWithEmailAndPassword","then","localStorage","setItem","JSON","stringify","currentUser","Promise","resolve","catch","error","reject","message","logout","default","signOut","removeItem","checkAuth","getItem","redirectTo","checkError","getPermissions"],"mappings":"IACaA,+BAA+B,SAA/BA,4BAA+B,CAACC,QAAD,EAAc;AACxD,SAAO;AACLC,WAAO,qBAA4B;AAAA,UAAzBC,QAAyB,QAAzBA,QAAyB;AAAA,UAAfC,QAAe,QAAfA,QAAe;;AACjC,aAAOH,SAASI,IAAT,GAAgBC,0BAAhB,CAA2CH,QAA3C,EAAqDC,QAArD,EACJG,IADI,CACC,kBAAU;AAAEC,qBAAaC,OAAb,CAAqB,MAArB,EAA6BC,KAAKC,SAAL,CAAeV,SAASI,IAAT,GAAgBO,WAA/B,CAA7B,EAA2E,OAAOC,QAAQC,OAAR,EAAP;AAA0B,OADlH,EAEJC,KAFI,CAEE,UAASC,KAAT,EAAgB;AACrB,eAAOH,QAAQI,MAAR,CAAeD,MAAME,OAArB,CAAP;AACD,OAJI,CAAP;AAKD,KAPI;AAQLC,YAAQ,kBAAM;AACZ,aAAOlB,SAASmB,OAAT,CAAiBf,IAAjB,GAAwBgB,OAAxB,GAAkCd,IAAlC,CAAuC,YAAW;AACvDC,qBAAac,UAAb,CAAwB,MAAxB;AACA,eAAOT,QAAQC,OAAR,EAAP;AACD,OAHM,EAGJC,KAHI,CAGE,UAASC,KAAT,EAAgB;AACvB,eAAOH,QAAQI,MAAR,CAAeD,MAAME,OAArB,CAAP;AACD,OALM,CAAP;AAMD,KAfI;AAgBLK,eAAW,qBAAM;AACf,UAAIf,aAAagB,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAAE,eAAOX,QAAQC,OAAR,EAAP;AAA0B;AAC9D,aAAOD,QAAQI,MAAR,CAAe,EAAEQ,YAAY,QAAd,EAAf,CAAP;AACD,KAnBI;AAoBL;AACAC,gBAAY;AAAA,aAASb,QAAQC,OAAR,EAAT;AAAA,KArBP;AAsBLa,oBAAgB;AAAA,aAAUd,QAAQC,OAAR,EAAV;AAAA;AAtBX,GAAP;AAwBD;;;;"}